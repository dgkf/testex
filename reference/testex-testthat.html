<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Support for testthat example expectations — testex-testthat • testex</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Support for testthat example expectations — testex-testthat"><meta property="og:description" content="Various functions that are used to produce a more native testthat
experience, automatically converting testex tests into testthat code and
executing tests such that they produce informative messages on failure."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Support for <code>testthat</code> example expectations</h1>
    
    <div class="hidden name"><code>testex-testthat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Various functions that are used to produce a more native <code>testthat</code>
experience, automatically converting <code>testex</code> tests into <code>testthat</code> code and
executing tests such that they produce informative messages on failure.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">testthat_block</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="get_example_value.html">get_example_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  obj <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  example <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tests <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">with_srcref</span><span class="op">(</span><span class="va">src</span>, <span class="va">expr</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">expect_no_error</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p>Additional arguments unused</p></dd>


<dt>value</dt>
<dd><p>A symbol or quote to use to refer to the subject of <code>testthat</code>
tests.</p></dd>


<dt>obj</dt>
<dd><p>An optional object name used to construct a more helpful error
message testthat failure message.</p></dd>


<dt>example</dt>
<dd><p>An option <code>srcref_key</code> string used to indicate where the
relevant example code originated from.</p></dd>


<dt>tests</dt>
<dd><p>An option <code>srcref_key</code> string used to indicate where the
relevant test code originated from.</p></dd>


<dt>envir</dt>
<dd><p>An environment in which the expectations should be evaluated</p></dd>


<dt>src</dt>
<dd><p>A <code>srcref_key</code> which is parsed to produce an artificial srcref for
the expectation signaled messages.</p></dd>


<dt>expr</dt>
<dd><p>An expression to be evaluated. If an <code>expectation</code> condition is
raised during its evaluation, its srcref is converted to <code>src</code>.</p></dd>


<dt>object</dt>
<dd><p>An expression to evaluate</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p><code>testex</code> operates on the previous value produced in example code. This is
unlike <code>testthat</code> expectations, which expect a value to be provided as a
first argument.</p>
<p>To accommodate a more native <code>testthat</code> interface, <code>testex</code> provides a few
convenience functions to make <code>testex</code> expectations run more natively within
the style of <code>testthat</code>.</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>testthat_block()</code>: A flavor of <code>testex</code> that will inject <code>.Last.value</code> into the first argument
of each expression - suitable for using the <code>expect_*</code> family of functions
from <code>testthat</code>. Also handles temporarily attaching the <code>testthat</code> package.</p></li>
<li><p><code>with_srcref()</code>: Retroactively assigns a source file and location to a expectation. This
allows <code>testthat</code> to report an origin for any code that raised an example
test failure from the source roxygen code, even though the test code is
reconstructed from package documentation files.</p></li>
<li><p><code>expect_no_error()</code>: A <code>testthat</code> expectation that the provided code can be evaluated without
producing an error. This is the most basic expectation one should expect of
any example code. Further expectations are provided in subsequent <code>testthat</code>
code.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Doug Kelkhoff.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

