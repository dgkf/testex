# `testex` ***test examples*** ![](https://user-images.githubusercontent.com/18220321/211960830-8c969bee-8c80-4984-8132-b5993911f179.png)

[![CRAN](https://img.shields.io/cran/v/testex.svg)](https://cran.r-project.org/package=testex)
[![R CMD
check](https://github.com/dgkf/testex/workflows/R-CMD-check/badge.svg)](https://github.com/dgkf/testex/actions?query=workflow%3AR-CMD-check)
[![coverage](https://img.shields.io/codecov/c/github/dgkf/testex/main.svg)](https://app.codecov.io/gh/dgkf/testex)

Add tests and assertions in-line in examples

## Quick Start

Set up your package to use `testex` using

``` r
testex::use_testex()
```

and then start adding tests!

``` r
#' Hello, World!
#' 
#' @examples
#' hello("World")
#' @test "Hello, World!"
#'
#' hello("darkness my old friend")
#' @test grepl("darkness", .)
#' 
#' @export
hello <- function(who) {
  paste0("Hello, ", who, "!")
}
```

If you were already using `testthat`, you’ll immediately see a new test
context for testing your examples. And if you aren’t using `testthat`,
then you’ll find that your tests are being run with your examples when
you run `R CMD check`

## `roxygen2` tags

### `@test`

will check that the result of the last example is identical to your
test. You can use the example output in a function using a `.`.

``` r
#' @examples
#' sum(1:10)
#' @test 55
#' @test is.numeric(.)
```

### `@testthat`

is similar, but has the added benefit of automatically inserting a `.`
into `testthat::expect_*` functions.

``` r
#' @examples
#' sum(1:10)
#' @testthat expect_equal(55)
#' @testthat expect_vector(numeric())
```

## Prior Art

- [`roxytest`](https://github.com/mikldk/roxytest) A slightly different
  approach. Allows tests to be written in-line, but generates test files
  used directly by a testing framework.

# Package index

## All functions

- [`fallback_expect_no_error()`](fallback_expect_no_error.md) : Expect
  no Error

- [`test_examples_as_testthat()`](test_examples_as_testthat.md) :

  Execute examples from Rd files as `testthat` tests

- [`testex-roxygen-tags`](testex-roxygen-tags.md) :

  `testex` `roxygen2` tags

- [`testex-testthat`](testex-testthat.md) :

  Support for `testthat` Expectations

- [`testex()`](testex.md) : A syntactic helper for writing quick and
  easy example tests

- [`use_testex()`](use_testex.md) :

  Add `testex` tags and configure package to fully use `testex` features

- [`use_testex_as_testthat()`](use_testex_as_testthat.md) :

  Run examples as `testthat` expectations

- [`uses_roxygen2()`](uses_roxygen2.md) :

  Checks for use of `roxygen2`

- [`with_attached()`](with_attached.md) : Temporarily attach a namespace

- [`with_srcref()`](with_srcref.md) :

  Raise `testthat` Expectations With A Known Source Reference

# Articles

### All vignettes

- [Configuration](configuration.md):
- [Interface Layers](interface_layers.md):
